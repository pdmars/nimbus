m4_include(/mcs/m4/worksp.lib.m4)
_NIMBUS_HEADER(How to make releases)
_NIMBUS_HEADER2(n,n,y,n,n,n,n)

_NIMBUS_LEFT2_COLUMN

_NIMBUS_LEFT2_DEV1_SIDEBAR(n,n,n,n,n,n,y,n)

_NIMBUS_LEFT2_COLUMN_END
_NIMBUS_CENTER2_COLUMN
_NIMBUS_2_5_DEPRECATED

<h2>Making releases</h2>

<br />
<a name="main-tarballs"> </a>
<h4>Main tarballs _NAMELINK(main-tarballs)</h4>

<p>
    Cutting a new release is automated, you use the
    <b>./scripts/make-dist.sh</b> script after double-checking version 
    strings across the code repository:
</p>
<ul>
    <li>scripts/lib/gt4.0/dist/build.properties</li>
    <li>cloud-client/builder/environment.sh</li>
    <li>control/src/python/workspacecontrol/main/wc_optparse.py</li>
    <li>pilot/workspacepilot.py</li>
    <li>cumulus/authz/pynimbusauthz/__init__.py</li>
</ul>

<p>
    You can also use a script that does this all on a remote node where
    a webserver resides.  This is what the Nimbus team uses on the
    nimbusproject.org web server to cut every set of release tarballs
    and any intermediate ones.
    See the original <a href="http://github.com/nimbusproject/nimbus/commit/6abab3d4cbf4d6c8692d380439da493449dba10c">commit message</a> for usage.
</p>


<br />
<a name="cloud-client"> </a>
<h4>Cloud client _NAMELINK(cloud-client)</h4>

<p>
    Most cloud client releases do not need to happen in tandem with a service
    release because the protocol rarely changes.
</p>
<p>
    Making a new cloud client release involves getting the "workspace/vm/cloud-client"
	tarball builder and reading its README.txt. 
</p>
<p>
	The cloud client has its own <b>CHANGES.txt</b> and <b>README.txt</b> files that need
	updating.
</p>
<p>
    Transfer the final result to the usual place,
    "USERNAME@cvs.globus.org:/www/workspace.globus.org/downloads/"
</p>
<p>
    It's a good thing to help out and note on the download page which version
    of the cloud client is actually compatible with various clouds.  Especially
    if there are no clouds that a new version is compatible with, this can
    happen right after a release of the service and cloud client.
</p>


<br />
<a name="context-agent"> </a>
<h4>Context agent _NAMELINK(context-agent)</h4>

<p>
    The context agent is released more "manually", there is no
    release generation script, it is just a tarball of your efforts.
</p>
<p>
_EXAMPLE_GENERICCMD_BEGIN
cp -a context-agent nimbus-ctx-agent-2.3
_EXAMPLE_CMD_END
_EXAMPLE_GENERICCMD_BEGIN
find nimbus-ctx-agent-2.3 -name CVS -type d -print -exec rm -rf {} \;
_EXAMPLE_CMD_END
_EXAMPLE_GENERICCMD_BEGIN
tar cvzf nimbus-ctx-agent-2.3.tar.gz nimbus-ctx-agent-2.3
_EXAMPLE_CMD_END
</p>

_NIMBUS_CENTER2_COLUMN_END
_NIMBUS_FOOTER1
_NIMBUS_FOOTER2
_NIMBUS_FOOTER3
